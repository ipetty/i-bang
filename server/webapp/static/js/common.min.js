$.namespace("Ibang.Base.throttle"),Ibang.Base.throttle={time:15e3,data:{},reg:function(e,n){var n=n||this.time;return this.data[e]={lock:!1,time:n,thread:null},this.data[e]},lock:function(e,n){var a=this.getData(e);a||(a=this.reg(e,n)),clearTimeout(a.thread);var t=this;this.getData(e).lock=!0,-1!=n&&(this.getData(e).thread=setTimeout(function(){t.getData(e).lock=!1},a.time))},unLock:function(e){var n=this.getData(e);return n?(clearTimeout(n.thread),this.getData(e).lock=!1,void 0):(printf("unlock error key: "+e),void 0)},isLock:function(e){var n=this.getData(e);return n?n.lock:!1},getData:function(e){return this.data[e]}};var regexEnum={account:"^[一-龥A-Za-z0-9]+$",email:"^[\\w]+([.-][\\w]+)*@[\\w]+(-[\\w]+)*(.\\w{1,31}){1,3}$",emailChar:"^[\\w@.-]+$",name:"^[一-龥A-Za-z0-9]+$",password:"^[A-Za-z0-9]+$",mobile:"^[0-9]+$",extNum:"^[0-9-]+$",department:"^[一-龥A-Za-z0-9s ]+$",jobNum:"^[A-Za-z0-9]+$",position:"^[一-龥A-Za-z0-9s ]+$",seat:"^[一-龥A-Za-z0-9s -]+$",note:"^[一-龥A-Za-z0-9s ]+$",number:"^[0-9]+$",ip:"^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])[.](25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)[.](25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)[.](25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$",brand:"^[一-龥A-Za-z0-9]+$"};$.namespace("Ibang.Base.account"),Ibang.Base.account={isEmpty:function(e){return"undefined"==typeof e?!0:null==e?!0:""==e?!0:!1},isNotEmpty:function(e){return"undefined"==typeof e?!1:null==e?!1:""==e?!1:e.length>0?!0:!0},checkName:function(e,n){return Ibang.Base.validation.test(regexEnum.name,e)?Ibang.Base.validation.checkLength(e,32)?!0:(Ibang.box.alert("名称长度不能超过16位汉字",n),!1):(Ibang.box.alert("名称只能输入中文、英文字母、数字",n),!1)},checkAccount:function(e,n){return Ibang.Base.validation.test(regexEnum.account,e)?Ibang.Base.validation.checkLength(e,32)?!0:(Ibang.box.alert("用户名长度不能超过16位汉字",n),!1):(Ibang.box.alert("用户名只能输入中文、英文字母、数字",n),!1)},checkPassword:function(e,n){return Ibang.Base.validation.test(regexEnum.password,e)?e.length<6||e.length>16?(Ibang.box.alert("密码长度为6~16位",n),!1):!0:(Ibang.box.alert("密码只能输入英文字母、数字",n),!1)},checkNumber:function(e,n){return Ibang.Base.validation.test(regexEnum.number,e)?e.length>13?(Ibang.box.alert("设备号码长度不能超过13位",n),!1):!0:(Ibang.box.alert("设备号码只能输入数字",n),!1)},checkDeviceIP:function(e,n){return"0.0.0.0"==e?(Ibang.box.alert("设备IP地址不能为0.0.0.0",n),!1):Ibang.Base.validation.test(regexEnum.ip,e)?!0:(Ibang.box.alert("设备IP地址不合法",n),!1)},checkGatewayIP:function(e,n){return"0.0.0.0"==e?(Ibang.box.alert("网关IP不能为0.0.0.0",n),!1):Ibang.Base.validation.test(regexEnum.ip,e)?!0:(Ibang.box.alert("网关IP不合法",n),!1)},checkUserMobile:function(e,n){return Ibang.Base.validation.test(regexEnum.mobile,e)?e.length>11?(Ibang.box.alert("手机长度不能超过11位",n),!1):!0:(Ibang.box.alert("手机只能输入数字",n),!1)},checkMobile:function(e,n){return Ibang.Base.validation.test(regexEnum.mobile,e)?e.length>11?(Ibang.box.alert("手机长度不能超过11位",n),!1):!0:(Ibang.box.alert("手机只能输入数字",n),!1)},checkExtNum:function(e,n){return Ibang.Base.validation.test(regexEnum.extNum,e)?e.length>20?(Ibang.box.alert("分机号码长度不能超过20位",n),!1):!0:(Ibang.box.alert("分机号码只能输入数字、“-”",n),!1)},checkEmail:function(e,n){return Ibang.Base.validation.test(regexEnum.emailChar,e)?Ibang.Base.validation.checkLength(e,48)?Ibang.Base.validation.test(regexEnum.email,e)?!0:(Ibang.box.alert("邮箱地址不合法",n),!1):(Ibang.box.alert("邮箱地址长度不能超过48位",n),!1):(Ibang.box.alert("邮箱地址只能输入英文字母、数字、“_”、“@”、“.”、“-”字符",n),!1)},checkBrand:function(e,n){return Ibang.Base.validation.test(regexEnum.brand,e)?Ibang.Base.validation.checkLength(e,32)?!0:(Ibang.box.alert("设备品牌长度不能超过16位汉字",n),!1):(Ibang.box.alert("设备品牌只能输入中文、英文字母、数字",n),!1)},checkDepartment:function(e,n){return Ibang.Base.validation.test(regexEnum.department,e)?Ibang.Base.validation.checkLength(e,32)?!0:(Ibang.box.alert("部门长度不能超过16位汉字",n),!1):(Ibang.box.alert("部门只能输入中文、英文字母、数字、空格",n),!1)},checkJobNum:function(e,n){return Ibang.Base.validation.test(regexEnum.jobNum,e)?Ibang.Base.validation.checkLength(e,16)?!0:(Ibang.box.alert("工号长度不能超过16位字符",n),!1):(Ibang.box.alert("工号只能输入英文字母、数字",n),!1)},checkPosition:function(e,n){return Ibang.Base.validation.test(regexEnum.position,e)?Ibang.Base.validation.checkLength(e,32)?!0:(Ibang.box.alert("职务长度不能超过16位汉字",n),!1):(Ibang.box.alert("职务只能输入中文、英文字母、数字、空格",n),!1)},checkSeat:function(e,n){return Ibang.Base.validation.test(regexEnum.seat,e)?Ibang.Base.validation.checkLength(e,32)?!0:(Ibang.box.alert("座位长度不能超过16位汉字",n),!1):(Ibang.box.alert("座位只能输入中文、英文字母、数字、空格、“-”",n),!1)},checkNote:function(e,n){return Ibang.Base.validation.test(regexEnum.note,e)?Ibang.Base.validation.checkLength(e,200)?!0:(Ibang.box.alert("备注长度不能超过100位汉字",n),!1):(Ibang.box.alert("备注只能输入中文、英文字母、数字、空格",n),!1)}},$.namespace("Ibang.Base.input"),Ibang.Base.input={addReadOnly:function(e,n){e.hasClass("disabled")||e.addClass("disabled"),e.attr("readonly","readonly"),e.unbind(),n||e.bind("focus",function(){e.blur()})},removeReadOnly:function(e){e.unbind(),e.removeClass("disabled"),e.removeAttr("readonly")},addDisabled:function(e,n){e.hasClass("disabled")||e.addClass("disabled"),e.unbind(),n||e.bind("focus",function(){e.blur()})},removeDisabled:function(e){e.unbind(),e.removeClass("disabled")}},$.namespace("Ibang.Base.validation"),Ibang.Base.validation={test:function(e,n){return this.isString(n)&&(e=new RegExp(e)),e.test(n)?!0:!1},checkLength:function(e,n){var a=e.replace(/[\u4e00-\u9fa5]/g,"**");return a.length>n?!1:!0},isString:function(e){return"string"==typeof e?!0:!1}},$.namespace("Ibang.box"),Ibang.box={init:function(){this.initEvent()},initEvent:function(){var e=this;$(".confirm","#alertWrapper").bind("click",function(){e.closeAlert()}),$(".W_close","#alertWrapper").bind("click",function(){$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover"),$(this).addClass("W_close_down"),e.closeAlert()}).hover(function(){$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover"),$(this).addClass("W_close_hover")},function(){$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover")}),$(".W_close","#confirmWrapper").bind("click",function(){e.closeConfirm()})},alert:function(e,n,a){var t=this;$.dialog({padding:0,id:"alertWrapperWindow",lock:!0,opacity:.5,content:document.getElementById("alertWrapper"),close:function(){},cancel:!1,drag:!1}),$(".msg","#alertWrapper").text(e),$(".confirm","#alertWrapper").unbind(),$(".confirm","#alertWrapper").bind("click",function(){"function"==typeof n&&n(),t.closeAlert()}),$(".W_close","#alertWrapper").unbind(),$(".W_close","#alertWrapper").bind("click",function(){"function"==typeof a&&a(),$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover"),$(this).addClass("W_close_down"),t.closeAlert()}).hover(function(){$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover"),$(this).addClass("W_close_hover")},function(){$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover")}),$(".W_close","#alertWrapper").removeClass("W_close_down"),$(".W_close","#alertWrapper").removeClass("W_close_hover")},closeAlert:function(){$.dialog({id:"alertWrapperWindow"}).close()},confirm:function(e,n,a){var t=this;$.dialog({padding:0,id:"confirmWrapper",lock:!0,opacity:.5,content:document.getElementById("confirmWrapper"),close:function(){},cancel:!1,drag:!1}),$(".confirm","#confirmWrapper").unbind(),$(".confirm","#confirmWrapper").bind("click",function(){"function"==typeof n&&n(),t.closeConfirm()}),$(".msg","#confirmWrapper").text(e),$(".cancel","#confirmWrapper").unbind(),$(".cancel","#confirmWrapper").bind("click",function(){"function"==typeof a&&a(),t.closeConfirm()}),$(".W_close","#confirmWrapper").unbind(),$(".W_close","#confirmWrapper").bind("click",function(){"function"==typeof a&&a(),$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover"),$(this).addClass("W_close_down"),t.closeConfirm()}).hover(function(){$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover"),$(this).addClass("W_close_hover")},function(){$(this).removeClass("W_close_down"),$(this).removeClass("W_close_hover")}),$(".W_close","#confirmWrapper").removeClass("W_close_down"),$(".W_close","#confirmWrapper").removeClass("W_close_hover")},closeConfirm:function(){$.dialog({id:"confirmWrapper"}).close()}},$.namespace("Ibang.tree"),Ibang.tree={getSelectedId:function(e){var n=$.fn.zTree.getZTreeObj(e+""),a=n.getSelectedNodes(),t=a[0].id;return t},getSelectedName:function(e){var n=$.fn.zTree.getZTreeObj(e+""),a=n.getSelectedNodes(),t=a[0].name;return t}};